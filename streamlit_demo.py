#!/usr/bin/env python3
"""
ã‚³ãƒ”ãƒ¼ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼
"""

import streamlit as st
import openai
import pandas as pd
from typing import List, Dict
import os

# å›ºå®šAPIã‚­ãƒ¼è¨­å®šï¼ˆç’°å¢ƒå¤‰æ•°ã‹ã‚‰å–å¾—ã€ãªã‘ã‚Œã°ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ï¼‰
OPENAI_API_KEY = os.getenv("OPENAI_API_KEY", "sk-proj-your-api-key-here")

# 20å€‹ã®ã‚³ãƒ”ãƒ¼ãƒ©ã‚¤ãƒ†ã‚£ãƒ³ã‚°ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯
COPYWRITING_TECHNIQUES = """
ä»¥ä¸‹ã®20å€‹ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’å‚è€ƒã«ã—ã¦ã€åŠ¹æœçš„ãªã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ã‚’ä½œæˆã—ã¦ãã ã•ã„ï¼š

ï¼‘ï¼šæ„å¤–ãªãƒ•ã‚¡ã‚¯ãƒˆã«åŸºã¥ã„ã¦ç™ºè¦‹ã‚’ä¸ãˆã‚‹
ä¾‹ï¼šã€Œè½æ›¸ãã‚’ã‚„ã‚ã‚‹ã¨ã€æˆç¸¾ã¯ä¸‹ãŒã‚‹ã€‚ã€ã€Œã‚»ãƒƒã‚¯ã‚¹ã«ã‚‚ã‚½ãƒƒã‚¯ã‚¹ã‚’ã€‚è¶³å…ƒã‚’æš–ã‚ã‚‹ã¨ã€ã‚ªãƒ«ã‚¬ã‚ºãƒ ã«é”ã—ã‚„ã™ããªã‚‹ã€‚ã€ã€Œæ—¥æœ¬èªã§ã¯ã€äº‹æ•…ã§äº¡ããªã‚‹ã€‚æµ·å¤–ã§ã¯killã¨ã„ã†ã€‚ã€

ï¼’ï¼šå»ºå‰ã‚’æ”¾æ£„ã—ã¦æœ¬éŸ³ã‚’èªã‚‹
ä¾‹ï¼šã€Œã¾ãŸå£²ã‚Œãªã‹ã£ãŸã‚‰ã©ã†ã—ã‚ˆã†ã€ã€Œåºƒå‘Šè¦åˆ¶ã«ã‚ˆã‚Šã€ã‚µãƒ³ãƒã‚’æŒãŸã•ã‚Œã¦ã„ã¾ã™ã€

ï¼“ï¼šå•†å“ä¾¡å€¤ã‚’æœ€å¤§åŒ–ã—ã¦ã€ç¤¾ä¼šã«ãŠã‘ã‚‹æ„å‘³ã‚’èªã‚‹
ä¾‹ï¼šã€Œãƒ­ã‚±ãƒƒãƒˆã‚‚ã€æ–‡æˆ¿å…·ã‹ã‚‰ç”Ÿã¾ã‚ŒãŸã€‚ã€ã€Œè‹±èªã‚’è©±ã›ã‚‹ã¨ã€10å„„äººã¨è©±ã›ã‚‹ã€ã€Œåœ°å›³ã«æ®‹ã‚‹ä»•äº‹ã€‚ï¼ˆå»ºè¨­ä¼šç¤¾ã®ã‚³ãƒ”ãƒ¼ï¼‰ã€

ï¼”ï¼šæ•°ãˆæ–¹ã‚’å·¥å¤«ã—ã¦ã¿ã‚‹
ä¾‹ï¼šã€Œæ—¥æœ¬ã§ï¼”ï¼—ç•ªç›®ã«æœ‰åãªçœŒã€ã€Œå››åæ­³ã¯ï¼’åº¦ç›®ã®ãƒã‚¿ãƒã€‚ã€ã€Œï¼‘å„„ä½¿ã£ã¦ã‚‚ã€ã¾ã ï¼’å„„ã€‚ã€

ï¼•ï¼šç‰©äº‹ã‚’æ‰ãˆã‚‹è¦–ç‚¹ã‚’å¤‰ãˆã¦ã¿ã‚‹
ä¾‹ï¼šã€Œã¼ãã®ãŠçˆ¶ã•ã‚“ã¯ã€æ¡ƒå¤ªéƒã¨ã„ã†ã‚„ã¤ã«æ®ºã•ã‚Œã¾ã—ãŸã€‚ã€ï¼ˆé¬¼è¦–ç‚¹ï¼‰ã€ŒãŠã—ã‚Šã ã£ã¦æ´—ã£ã¦ã»ã—ã„ã€ï¼ˆèº«ä½“è¦–ç‚¹ï¼‰ã€Œå¤ªé™½ã‹ã‚‰è¦‹ã‚Œã°ã€æ—¥æœ¬ã«ã¯åºƒå¤§ãªç©ºãåœ°ãŒåºƒãŒã£ã¦ã„ã‚‹ã€ï¼ˆå¤ªé™½è¦–ç‚¹ï¼‰

ï¼–ï¼šæ–°ã—ã„äºŒé …å¯¾ç«‹ã‚’ä½œã£ã¦ã¿ã‚‹
ä¾‹ï¼šã€Œã‚´ãƒªãƒãƒƒãƒãƒ§ã€‚ç´°ãƒãƒƒãƒãƒ§ã€‚ã€ã€Œã²ãŸãƒ‘ãƒ³ã€ã¤ã‘ãƒ‘ãƒ³ã€ã€Œæ¨©åŠ›ã‚ˆã‚Šã€æ„›ã ã­ã€

ï¼—ï¼šå•†å“ãŒãªã„ã“ã¨ã«ã‚ˆã‚‹ä¸ä¾¿ã‚’æã
ä¾‹ï¼šã€Œéƒ¨é•·ã®å±±æœ¬ã¯ã¾ã‚‚ãªãæˆ»ã‚Šã¾ã™ã®ã§ã€ãã“ã«åº§ã£ã¦ã‚ã€‚ï¼ˆè‹±ä¼šè©±ã®ã‚³ãƒ”ãƒ¼ï¼‰ã€ã€Œä»Šã€ã“ã®ç”·ã®ã‚«ãƒãƒ³ã®ä¸­ã§ã¯ã€ æ°´ç­’ã®ãŠèŒ¶ãŒã‚ã¡ã‚ƒãã¡ã‚ƒæ¼ã‚Œã¦ã„ã‚‹ã€‚ã€

ï¼˜ï¼šã»ã£ã“ã‚Šã™ã‚‹ã‚·ãƒ¼ãƒ³ã‚’åˆ‡ã‚Šå–ã‚‹
ä¾‹ï¼šã€Œé‡‘é­šã®ä¾¿ç§˜ãªãŠã‚‹ã€‚ã€ï¼ˆæ°´æ—é¤¨ã®ã‚³ãƒ”ãƒ¼ï¼‰ã€Œã‚‚ã†ä¸€å›ã¾ãŸãŒã£ã¦ã‹ã‚‰å¯ã‚ˆã€‚ã€ï¼ˆãƒã‚¤ã‚¯ã®ã‚³ãƒ”ãƒ¼ï¼‰ã€Œã‚¹ã‚­ãƒƒãƒ—ã—ã¡ã‚ƒã£ãŸã€‚ã€ï¼ˆã‚³ãƒ¼ã‚¸ãƒ¼ã‚³ãƒ¼ãƒŠãƒ¼ã®ã‚³ãƒ”ãƒ¼ï¼‰

ï¼™ï¼šä¼æ¥­åã‚’äººã®åå‰ã®ã‚ˆã†ã«ä½¿ã†
ä¾‹ï¼šã€Œãªãœã¤ã°ã•ã‚’ä½¿ã‚ãªã„ã‚“ã ã€‚ã‚ãªãŸã®è³‡ç”£ã‚‚ãã†ã§ã™ã€‚ã¤ã°ã•è¨¼åˆ¸ã€ã€Œæ¥½å¤©ã‚«ãƒ¼ãƒ‰ãƒãƒ³ã€ã€Œæ–°ã—ã„è‹±é›„ã€å§‹ã¾ã‚‹ã€‚auã€

ï¼‘ï¼ï¼šãã®æ™‚ä»£ãªã‚‰ã§ã¯ã®ç¤¾ä¼šèª²é¡Œã‚’èªã‚‹
ä¾‹ï¼šã€ŒåŒæ€§ã‚’å¥½ãã«ãªã‚‹ã®ã¯ã€ã˜ã¤ã¯å·¦åˆ©ãã¨åŒã˜ãã‚‰ã„ã„ã‚‹ã€‚ã€ã€Œå¹´ã‚’ã¨ã‚‹ã ã‘ã§ã€åŠ£åŒ–ã¨å‘¼ã°ã‚Œã‚‹æ™‚ä»£ã‚’ç”Ÿãã¦ã„ã‚‹ã€‚ã€ã€Œæ—¥æœ¬åˆã®å¥³æ€§ç·ç†ã¯ã€ãã£ã¨ã‚‚ã†ã€ã“ã®ä¸–ã«ã„ã‚‹ã€‚ã€

ï¼‘ï¼‘ï¼šç´å¾—ã§ãã‚‹ä¸–ã®ä¸­ã®æ³•å‰‡ã‚’ä¼ãˆã‚‹
ä¾‹ï¼šã€ŒãŠæ¯ã•ã‚“ã‚’è‚²ã¦ã‚‹ã®ã¯ã€èµ¤ã¡ã‚ƒã‚“ã§ã™ã€‚ã€ã€ŒèŠ±ã‚’è‚²ã¦ã‚‹ã‚ˆã†ã«ãªã‚‹ã¨é›¨ãŒå¥½ãã«ãªã‚‹ã€ã€Œè©¦ç€å®¤ã§æ€ã„å‡ºã—ãŸã‚‰ã€æœ¬æ°—ã®æ‹ã ã¨æ€ã†ã€‚ã€ã€Œç€ç‰©ã‚’ç€ã¦ã„ã‚‹æ—¥ã¯ã€ã™ã“ã—ä¸å¯§ã«ç”Ÿãã¦ã„ã‚‹ã€‚ã€

ï¼‘ï¼’ï¼šå¿ƒã®å£°ã‚„ã¤ã¶ã‚„ãã‚’ã‚³ãƒ”ãƒ¼ã«ã™ã‚‹
ä¾‹ï¼šã€Œç§ã ã‘ã€ç¾äººã ã£ãŸã‚‰ã€ã„ã„ã®ã«ã€‚ã€ã€Œãã†ã ã€€äº¬éƒ½ã€ã„ã“ã†ã€‚ã€ã€Œã¤ã¾ã‚‰ã‚“ï¼ã€

ï¼‘ï¼“ï¼šã‚¿ãƒ¼ã‚²ãƒƒãƒˆãŒå…±æ„Ÿã§ãã‚‹æƒ³ã„ã‚’ä»£å¼ã—ã¦ã‚ã’ã‚‹
ä¾‹ï¼šã€ŒçŸ¥ååº¦ã ã‘ãŒä¸€æµã®ä¼šç¤¾ã§åƒãã‚ˆã‚Šã€çŸ¥ååº¦ã ã‘ãŒäºŒæµã®ä¼šç¤¾ã§åƒããŸã„ã€‚ã€ã€Œçµå©šã—ãªãã¦ã‚‚å¹¸ã›ã«ãªã‚Œã‚‹ã“ã®æ™‚ä»£ã«ã€€ç§ã¯ã€ã‚ãªãŸã¨çµå©šã—ãŸã„ã®ã§ã™ã€‚ã€ã€Œï¼‘å¹´ãŒéãã‚‹ã®ã¯æ—©ã„ãŒã€ï¼‘æ—¥ã¯ãªã‹ãªã‹çµ‚ã‚ã‚‰ãªã„ã€‚ã€

ï¼‘ï¼”ï¼šè‡ªè™çš„ã«è‡ªåˆ†è‡ªèº«ã‚’èªã‚‹
ä¾‹ï¼šã€Œã“ã“ã¯ã€æ—¥æœ¬ä¸€å¿ƒã®è·é›¢ãŒé ã„ã‚µãƒ•ã‚¡ãƒªãƒ‘ãƒ¼ã‚¯ã€ã€Œã‚¹ã‚¤ã¦ã¾ã™åµå±±ã€ã€Œãã®ç¨‹åº¦ã®æ©Ÿèƒ½ãªã‚‰ãƒ‰ãƒ³ã‚­ã§ååˆ†ã ï¼ã€

ï¼‘ï¼•ï¼šãƒ€ã‚¸ãƒ£ãƒ¬ã«ã—ã¦ã¿ã‚‹
ä¾‹ï¼šã€Œãƒã‚¶ãƒ¼ãƒ«ã§ã”ã–ãƒ¼ã‚‹ã€ã€Œã§ã£ã‹ã„ã©ãŠã€‚åŒ—æµ·é“ã€ã€ŒãƒŠã‚¤ãƒ•ã®ã‚ˆã†ãªãƒŠã‚¤ãƒ¼ãƒ–ã€‚ã€ã€Œã‚ã—ãŸã®ã‚‚ã¨ å‘³ã®ç´ ã€ã€Œã‚«ãƒ©ãƒ€ã«ãƒ”ãƒ¼ã‚¹ã€‚ã‚«ãƒ«ãƒ”ã‚¹ã€

ï¼‘ï¼–ï¼šæˆåˆ†ã®ã‚ˆã†ã«è¡¨ç¾ã—ã¦ã¿ã‚‹
ä¾‹ï¼šã€Œãƒãƒ•ã‚¡ãƒªãƒ³ã®åŠåˆ†ã¯ã‚„ã•ã—ã•ã§ã§ãã¦ã¾ã™ã€‚ã€ã€ŒãŠã„ã—ã„ã‚‚ã®ã¯ã€è„‚è‚ªã¨ç³–ã§ã§ãã¦ã„ã‚‹ã€ã€Œä¸–ç•Œã¯èª°ã‹ã®ä»•äº‹ã§ã§ãã¦ã„ã‚‹ã€

ï¼‘ï¼—ï¼šä¾¡å€¤ã‚’å†å®šç¾©ã™ã‚‹
ä¾‹ï¼šã€Œå¹´è³€çŠ¶ã¯ã€è´ˆã‚Šç‰©ã ã¨æ€ã†ã€‚ã€ã€Œæˆ¦äº‰ã‚’ï¼”åº¦ã‚‚çµŒé¨“ã—ãŸã‚¸ãƒ¼ãƒ³ã‚ºï¼ˆå¤ç€ã®ã‚³ãƒ”ãƒ¼ï¼‰ã€ã€Œãƒãƒ§ã‚³ãŒç¾©ç†ãªã‚‰ã€ã‚¢ãƒ¡ã¯äººæƒ…ã€‚ã€ã€Œæ˜ ç”»ã¯ã€æœ¬å½“ã®ã“ã¨ã‚’è¨€ã†å˜˜ã ã€‚ã€

ï¼‘ï¼˜ï¼šåŠ¹æœã‚’ä¼ãˆã‚‹
ä¾‹ï¼šã€Œå€’ã‚Œã‚‹ã ã‘ã§è…¹ç­‹ã€ã€Œå¸å¼•åŠ›ãŒå¤‰ã‚ã‚‰ãªã„ãŸã ä¸€ã¤ã®æƒé™¤æ©Ÿã€ã€Œã‚ã‚‹æ—¥ã€æ—¥çµŒã¯é¡”ã«å‡ºã‚‹ã€

ï¼‘ï¼™ï¼šãƒ©ã‚¤ãƒãƒ«ã«å–§å˜©ã‚’å£²ã‚‹
ä¾‹ï¼šã€Œãƒãƒ¨ãƒãƒ¼ã‚ºã‚ˆã€‚çœŸä¼¼ã™ã‚“ãªã‚ˆã€‚ï¼ˆã‚±ãƒãƒ£ãƒƒãƒ—ã®ã‚³ãƒ”ãƒ¼ï¼‰ã€ã€Œç¾é‡‘ã£ã¦ã€å¥‡å¦™ãªãƒ¢ãƒã‚’æŒã¡æ­©ã„ã¦ã„ã‚‹ã‚‚ã‚“ã ï¼ˆã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ã®ã‚³ãƒ”ãƒ¼ï¼‰ã€

ï¼’ï¼ï¼šå¸¸è­˜ã‚’ã²ã£ãã‚Šè¿”ã—ã¦ã¿ã‚‹
ä¾‹ï¼šã€Œåœ°å‘³ãƒãƒ­ã‚¦ã‚£ãƒ³ã€ã€ŒæŠ½é¸ã§ï¼‘åã‚’ãƒã‚ºãƒ¬ã¨ã™ã‚‹ã€ã€Œå¥åº·ãŒãƒ–ãƒ¼ãƒ ã«ãªã‚‹ãªã‚“ã¦ã€ç•°å¸¸ã ã€‚ã€

ã€é‡è¦ãªæŒ‡ç¤ºã€‘
ä¸Šè¨˜ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’å‚è€ƒã«ã€æœ€ã‚‚åŠ¹æœçš„ãª5å€‹ã®ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ã®ã¿ã‚’å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚
å„ã‚³ãƒ”ãƒ¼ã¯çŸ­ãã€ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆãŒã‚ã‚Šã€ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã«åˆºã•ã‚‹ã‚‚ã®ã«ã—ã¦ãã ã•ã„ã€‚
ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯åã‚„ç•ªå·ã¯è¡¨ç¤ºã›ãšã€ã‚³ãƒ”ãƒ¼ã®ã¿ã‚’å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚
"""

def generate_copy_ideas(orientation: str, num_ideas: int = 5) -> str:
    """ã‚ªãƒªã‚¨ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ + ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ãƒ™ãƒ¼ã‚¹ã®ã‚³ãƒ”ãƒ¼ç”Ÿæˆ"""
    openai.api_key = OPENAI_API_KEY
    
    full_prompt = f"""
{orientation}

{COPYWRITING_TECHNIQUES}

æœ€çµ‚çš„ã«{num_ideas}å€‹ã®å³é¸ã•ã‚ŒãŸã‚³ãƒ”ãƒ¼ã‚’å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚
"""
    
    try:
        response = openai.chat.completions.create(
            model="gpt-4o",
            messages=[
                {
                    "role": "system", 
                    "content": """ã‚ãªãŸã¯å„ªç§€ãªã‚³ãƒ”ãƒ¼ãƒ©ã‚¤ã‚¿ãƒ¼ã§ã™ã€‚
ä¸ãˆã‚‰ã‚ŒãŸã‚ªãƒªã‚¨ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³æƒ…å ±ã¨20å€‹ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’æ´»ç”¨ã—ã¦ã€åŠ¹æœçš„ãªã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

å‡ºåŠ›ã¯ç°¡æ½”ã§ã€æœ€çµ‚é¸å‡ºã•ã‚ŒãŸã‚³ãƒ”ãƒ¼ã®ã¿ã‚’æç¤ºã—ã¦ãã ã•ã„ã€‚"""
                },
                {"role": "user", "content": full_prompt}
            ],
            max_tokens=1200,
            temperature=0.9
        )
        return response.choices[0].message.content
    except Exception as e:
        return f"ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: {str(e)}"

# Streamlit UI
st.set_page_config(
    page_title="ã‚³ãƒ”ãƒ¼ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼",
    page_icon="âœï¸",
    layout="wide"
)

st.markdown("---")

# ãƒ¡ã‚¤ãƒ³ã‚¨ãƒªã‚¢
col1, col2 = st.columns([1, 1])

with col1:
    st.subheader("ğŸ“‹ ã‚ªãƒªã‚¨ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å…¥åŠ›")
    
    # ã‚ªãƒªã‚¨ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å…¥åŠ›ã‚¨ãƒªã‚¢
    orientation = st.text_area(
        "ä¼æ¥­æƒ…å ±ãƒ»èª²é¡Œãƒ»ã‚¿ãƒ¼ã‚²ãƒƒãƒˆç­‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",
        placeholder="""ä¾‹ï¼š
èª²é¡Œã®ãƒã‚¤ãƒ³ãƒˆ
ä»Šå›ã€å‹Ÿé›†ã™ã‚‹ä½œå“ã«æœŸå¾…ã™ã‚‹ã“ã¨
å½“ç¤¾ã¯ã‚´ãƒ ç´ æã‚’ç”¨ã„ã¦ã€çœŸã«ä¾¡å€¤ã‚ã‚‹è£½å“ã‚’æä¾›ã™ã‚‹ä¼šç¤¾ã§ã‚ã‚ŠãŸã„ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚

å¸‚å ´ãƒ»ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®å‹•å‘
ã€Œå¥½ããªã“ã¨ã‚’ä»•äº‹ã«ã—ãŸã„ã€ã€Œã‚„ã‚ŠãŒã„ã‚„é”æˆæ„Ÿã‚’å¤§åˆ‡ã«ã—ãŸã„ã€ã¨è€ƒãˆã¦ã„ã‚‹å°±è·ãƒ»è»¢è·ã‚’è€ƒãˆã¦ã„ã‚‹è‹¥å¹´å±¤ãŒã‚¿ãƒ¼ã‚²ãƒƒãƒˆã§ã™ã€‚

èª²é¡Œå•†å“ãƒ»ã‚µãƒ¼ãƒ“ã‚¹ã®è¨´æ±‚ã—ãŸã„ãƒã‚¤ãƒ³ãƒˆ
ã‚´ãƒ ã¯ä»£æ›¿ä¸å¯èƒ½ãªå”¯ä¸€ã®ç´ æã§ã€æœªæ¥ã‚’å‰µé€ ã™ã‚‹å¤§ããªå¯èƒ½æ€§ãŒã‚ã‚‹ã“ã¨ã‚’è¡¨ç¾ã—ã¦ã‚‚ã‚‰ã„ãŸã„ã§ã™ã€‚""",
        height=200
    )
    
    generate_button = st.button("ğŸš€ ã‚³ãƒ”ãƒ¼ç”Ÿæˆ", type="primary")

with col2:
    st.subheader("âœ¨ ç”Ÿæˆçµæœ")
    
    if generate_button:
        if not orientation:
            st.error("ã‚ªãƒªã‚¨ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")
        else:
            with st.spinner("ã‚³ãƒ”ãƒ¼ã‚’ç”Ÿæˆä¸­..."):
                result = generate_copy_ideas(orientation, 5)
                
            st.success("ç”Ÿæˆå®Œäº†ï¼")
            st.text_area("ç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ”ãƒ¼", value=result, height=400)
            
            # ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³
            st.download_button(
                label="ğŸ“„ çµæœã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰",
                data=result,
                file_name="copy_ideas.txt",
                mime="text/plain"
            )

# ã‚µã‚¤ãƒ‰ãƒãƒ¼ - ç®¡ç†è€…ç”¨æ©Ÿèƒ½ã®ã¿
st.sidebar.header("ğŸ”§ ç®¡ç†è€…æ©Ÿèƒ½")
if st.sidebar.checkbox("ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰", value=False):
    st.sidebar.markdown("---")
    st.sidebar.subheader("ç®¡ç†è€…è¨­å®š")
    
    if st.sidebar.button("ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º"):
        st.sidebar.json({
            "total_generations": 42,
            "avg_generation_time": "3.2ç§’"
        })
        
    # APIè¨­å®šç¢ºèª
    if OPENAI_API_KEY == "sk-proj-your-api-key-here":
        st.sidebar.warning("âš ï¸ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆAPIã‚­ãƒ¼ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã™")
    else:
        st.sidebar.success("âœ… APIã‚­ãƒ¼ãŒè¨­å®šæ¸ˆã¿") 